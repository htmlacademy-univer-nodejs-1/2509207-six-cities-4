{"ast":null,"code":"var _jsxFileName = \"/Users/vovotata/nodejs/2509207-six-cities-4/frontend/src/components/card-list/card-list.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useAppDispatch, useAppSelector } from '../../hooks';\nimport { setSorting } from '../../store/site-process/site-process';\nimport Card from '../card/card';\nimport Map from '../map/map';\nimport SortingList from '../sorting-list/sorting-list';\nimport Spinner from '../spinner/spinner';\nimport { getCity, getSorting } from '../../store/site-process/selectors';\nimport { getIsOffersLoading, selectOffers } from '../../store/site-data/selectors';\nimport CardListEmpty from '../card-list-empty/card-list-empty';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CardList = () => {\n  _s();\n\n  const dispatch = useAppDispatch();\n  const activeSorting = useAppSelector(getSorting);\n  const activeCity = useAppSelector(getCity);\n  const isOffersLoading = useAppSelector(getIsOffersLoading);\n  const offers = useAppSelector(selectOffers);\n  const [activeOffer, setActiveOffer] = useState(null);\n  const isEmpty = offers.length === 0;\n\n  const handleCardMouseEnter = id => {\n    setActiveOffer(id);\n  };\n\n  const handleCardMouseLeave = () => {\n    setActiveOffer(null);\n  };\n\n  const onSortingChange = name => {\n    dispatch(setSorting(name));\n  };\n\n  if (isOffersLoading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `cities__places-container container${isEmpty ? ' cities__places-container page__main--index-empty' : ''}`,\n    children: [isEmpty ? /*#__PURE__*/_jsxDEV(CardListEmpty, {\n      city: activeCity.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 18\n    }, this) : /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"cities__places places\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"visually-hidden\",\n        children: \"Places\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n        className: \"places__found\",\n        children: [offers.length, \" places to stay in \", activeCity.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(SortingList, {\n        onChange: onSortingChange,\n        activeSorting: activeSorting\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cities__places-list places__list tabs__content\",\n        children: offers.map(offer => /*#__PURE__*/_jsxDEV(Card, { ...offer,\n          onMouseEnter: handleCardMouseEnter,\n          onMouseLeave: handleCardMouseLeave\n        }, offer.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cities__right-section\",\n      children: !isEmpty && /*#__PURE__*/_jsxDEV(Map, {\n        locations: offers.map(_ref => {\n          let {\n            id,\n            location\n          } = _ref;\n          return {\n            id,\n            ...location\n          };\n        }),\n        city: activeCity,\n        activeOffer: activeOffer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 22\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CardList, \"l0NBq7uN/Dp1rQNxzPX8X+NNK5A=\", false, function () {\n  return [useAppDispatch, useAppSelector, useAppSelector, useAppSelector, useAppSelector];\n});\n\n_c = CardList;\nexport default CardList;\n\nvar _c;\n\n$RefreshReg$(_c, \"CardList\");","map":{"version":3,"names":["useState","useAppDispatch","useAppSelector","setSorting","Card","Map","SortingList","Spinner","getCity","getSorting","getIsOffersLoading","selectOffers","CardListEmpty","CardList","dispatch","activeSorting","activeCity","isOffersLoading","offers","activeOffer","setActiveOffer","isEmpty","length","handleCardMouseEnter","id","handleCardMouseLeave","onSortingChange","name","map","offer","location"],"sources":["/Users/vovotata/nodejs/2509207-six-cities-4/frontend/src/components/card-list/card-list.tsx"],"sourcesContent":["import type { SortName } from '../../types/types';\n\nimport { useState } from 'react';\n\nimport { useAppDispatch, useAppSelector } from '../../hooks';\nimport { setSorting } from '../../store/site-process/site-process';\nimport Card from '../card/card';\nimport Map from '../map/map';\nimport SortingList from '../sorting-list/sorting-list';\nimport Spinner from '../spinner/spinner';\nimport { getCity, getSorting } from '../../store/site-process/selectors';\nimport { getIsOffersLoading, selectOffers } from '../../store/site-data/selectors';\nimport CardListEmpty from '../card-list-empty/card-list-empty';\n\nconst CardList = (): JSX.Element => {\n  const dispatch = useAppDispatch();\n  const activeSorting = useAppSelector(getSorting);\n  const activeCity = useAppSelector(getCity);\n  const isOffersLoading = useAppSelector(getIsOffersLoading);\n  const offers = useAppSelector(selectOffers);\n  const [activeOffer, setActiveOffer] = useState<string | null>(null);\n\n  const isEmpty = offers.length === 0;\n\n  const handleCardMouseEnter = (id: string) => {\n    setActiveOffer(id);\n  };\n\n  const handleCardMouseLeave = () => {\n    setActiveOffer(null);\n  };\n\n  const onSortingChange = (name: SortName) => {\n    dispatch(setSorting(name));\n  };\n\n  if (isOffersLoading) {\n    return <Spinner />;\n  }\n\n  return (\n    <div className={`cities__places-container container${isEmpty ? ' cities__places-container page__main--index-empty' : ''}`}>\n      {isEmpty ? <CardListEmpty city={activeCity.name} /> : (\n        <section className=\"cities__places places\">\n          <h2 className=\"visually-hidden\">Places</h2>\n          <b className=\"places__found\">{offers.length} places to stay in {activeCity.name}</b>\n          <SortingList onChange={onSortingChange} activeSorting={activeSorting} />\n          <div className=\"cities__places-list places__list tabs__content\">\n            {offers.map((offer) => (\n              <Card\n                key={offer.id}\n                {...offer}\n                onMouseEnter={handleCardMouseEnter}\n                onMouseLeave={handleCardMouseLeave}\n              />\n            ))}\n          </div>\n        </section>)}\n      <div className=\"cities__right-section\">\n        {!isEmpty && <Map locations={offers.map(({ id, location }) => ({ id, ...location }))} city={activeCity} activeOffer={activeOffer} />}\n      </div>\n    </div>\n  );\n};\n\nexport default CardList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}