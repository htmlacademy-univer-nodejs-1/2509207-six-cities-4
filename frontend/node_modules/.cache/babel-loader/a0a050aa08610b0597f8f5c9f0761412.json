{"ast":null,"code":"var _jsxFileName = \"/Users/vovotata/nodejs/2509207-six-cities-4/frontend/src/pages/favorites/favorites.tsx\",\n    _s = $RefreshSig$();\n\nimport Card from '../../components/card/card';\nimport FavoritesEmpty from '../../components/favorites-empty/favorites-empty';\nimport Spinner from '../../components/spinner/spinner';\nimport { useAppSelector } from '../../hooks';\nimport { getFavoriteOffers, getIsFavoriteOffersLoading } from '../../store/site-data/selectors';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Favorites = () => {\n  _s();\n\n  const isFavoriteOffersLoading = useAppSelector(getIsFavoriteOffersLoading);\n  const favoriteOffers = useAppSelector(getFavoriteOffers);\n  const groupedOffersByCity = favoriteOffers.reduce((acc, curr) => {\n    if (curr.isFavorite) {\n      const city = curr.city.name;\n\n      if (!(city in acc)) {\n        acc[city] = [];\n      }\n\n      acc[city].push(curr);\n    }\n\n    return acc;\n  }, {});\n\n  if (isFavoriteOffersLoading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"main\", {\n      className: `page__main page__main--favorites${favoriteOffers.length === 0 ? ' page__main--favorites-empty' : ''}`,\n      children: favoriteOffers.length === 0 ? /*#__PURE__*/_jsxDEV(FavoritesEmpty, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 40\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page__favorites-container container\",\n        children: /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"favorites\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"favorites__title\",\n            children: \"Saved listing\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"favorites__list\",\n            children: Object.entries(groupedOffersByCity).map(_ref => {\n              let [city, groupedOffers] = _ref;\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"favorites__locations-items\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"favorites__locations locations locations--current\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"locations__item\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"locations__item-link\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: city\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 43,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 42,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 41,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 40,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"favorites__places\",\n                  children: groupedOffers.map(offer => /*#__PURE__*/_jsxDEV(Card, { ...offer,\n                    classPrefix: \"favorites\",\n                    isMini: true\n                  }, offer.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 48,\n                    columnNumber: 53\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 47,\n                  columnNumber: 21\n                }, this)]\n              }, city, true, {\n                fileName: _jsxFileName,\n                lineNumber: 39,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"footer container\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"footer__logo-link\",\n        href: \"main.html\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"footer__logo\",\n          src: \"img/logo.svg\",\n          alt: \"6 cities logo\",\n          width: 64,\n          height: 33\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Favorites, \"XPS05bzZpbbEDyQ5q1g9M9JkyXg=\", false, function () {\n  return [useAppSelector, useAppSelector];\n});\n\n_c = Favorites;\nexport default Favorites;\n\nvar _c;\n\n$RefreshReg$(_c, \"Favorites\");","map":{"version":3,"names":["Card","FavoritesEmpty","Spinner","useAppSelector","getFavoriteOffers","getIsFavoriteOffersLoading","Favorites","isFavoriteOffersLoading","favoriteOffers","groupedOffersByCity","reduce","acc","curr","isFavorite","city","name","push","length","Object","entries","map","groupedOffers","offer","id"],"sources":["/Users/vovotata/nodejs/2509207-six-cities-4/frontend/src/pages/favorites/favorites.tsx"],"sourcesContent":["import Card from '../../components/card/card';\nimport FavoritesEmpty from '../../components/favorites-empty/favorites-empty';\nimport Spinner from '../../components/spinner/spinner';\nimport { useAppSelector } from '../../hooks';\nimport { getFavoriteOffers, getIsFavoriteOffersLoading } from '../../store/site-data/selectors';\nimport type { ListOffer } from '../../types/types';\n\nconst Favorites = (): JSX.Element => {\n  const isFavoriteOffersLoading = useAppSelector(getIsFavoriteOffersLoading);\n  const favoriteOffers = useAppSelector(getFavoriteOffers);\n\n  const groupedOffersByCity = favoriteOffers.reduce<{ [key: string ]: ListOffer[] }>((acc, curr) => {\n    if (curr.isFavorite) {\n      const city = curr.city.name;\n\n      if (!(city in acc)) {\n        acc[city] = [];\n      }\n\n      acc[city].push(curr);\n    }\n\n    return acc;\n  }, {});\n\n  if (isFavoriteOffersLoading) {\n    return <Spinner />;\n  }\n\n  return (\n    <>\n      <main className={`page__main page__main--favorites${favoriteOffers.length === 0 ? ' page__main--favorites-empty' : ''}`}>\n        {favoriteOffers.length === 0 ? <FavoritesEmpty /> : (\n          <div className=\"page__favorites-container container\">\n            <section className=\"favorites\">\n              <h1 className=\"favorites__title\">Saved listing</h1>\n              <ul className=\"favorites__list\">\n                {Object.entries(groupedOffersByCity).map(([city, groupedOffers]) => (\n                  <li className=\"favorites__locations-items\" key={city}>\n                    <div className=\"favorites__locations locations locations--current\">\n                      <div className=\"locations__item\">\n                        <div className=\"locations__item-link\">\n                          <span>{city}</span>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"favorites__places\">\n                      {groupedOffers.map((offer) => <Card key={offer.id} {...offer} classPrefix=\"favorites\" isMini />)}\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </section>\n          </div>)}\n      </main>\n      <footer className=\"footer container\">\n        <a className=\"footer__logo-link\" href=\"main.html\">\n          <img className=\"footer__logo\" src=\"img/logo.svg\" alt=\"6 cities logo\" width={64} height={33} />\n        </a>\n      </footer>\n    </>\n  );\n};\n\nexport default Favorites;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}