{"ast":null,"code":"import { CityLocation, TYPES } from '../../const';\nimport { HousingType } from '../../dto/offer/offer.dto';\nexport const adaptLoginToClient = dto => ({\n  user: {\n    name: dto.name,\n    avatarUrl: dto.avatarPath,\n    email: dto.email,\n    isPro: dto.type === 'pro'\n  },\n  token: dto.token\n});\nexport const adaptUserToClient = user => ({\n  name: user.name,\n  avatarUrl: user.avatarPath,\n  email: user.email,\n  isPro: user.type === 'pro'\n});\nexport const adaptOfferToClient = offer => ({\n  id: offer.id,\n  title: offer.title,\n  description: offer.description,\n  city: {\n    name: offer.city,\n    location: offer.coordinates\n  },\n  location: offer.coordinates,\n  previewImage: offer.previewImage,\n  isPremium: offer.isPremium,\n  type: adaptHousingType(offer.type),\n  bedrooms: offer.roomCount,\n  maxAdults: offer.guestCount,\n  price: offer.price,\n  goods: offer.amenities,\n  images: offer.photos,\n  isFavorite: offer.isFavorite,\n  rating: offer.rating,\n  host: adaptUserToClient(offer.userId)\n});\nexport const adaptHousingType = type => {\n  switch (type) {\n    case HousingType.Apartment:\n      return TYPES[0];\n\n    case HousingType.Room:\n      return TYPES[1];\n\n    case HousingType.House:\n      return TYPES[2];\n\n    case HousingType.Hotel:\n      return TYPES[3];\n  }\n};\nexport const adaptOffersToClient = offers => offers.map(adaptOfferToClient);\nexport const adaptListOfferToClient = offer => ({\n  id: offer.id,\n  price: offer.rentCost,\n  rating: offer.rating,\n  title: offer.name,\n  isPremium: offer.premium,\n  isFavorite: offer.favoritesFlag,\n  city: {\n    name: offer.cityName,\n    location: CityLocation[offer.cityName]\n  },\n  location: CityLocation[offer.cityName],\n  previewImage: offer.preview,\n  type: adaptHousingType(offer.housingType)\n});\nexport const adaptListOffersToClient = offers => offers.map(offer => adaptListOfferToClient(offer));\nexport const adaptCommentToClient = comment => ({\n  id: comment.id,\n  comment: comment.text,\n  date: comment.postDate,\n  rating: comment.rating,\n  user: adaptUserToClient(comment.user)\n});\nexport const adaptCommentsToClient = comments => comments.map(adaptCommentToClient);","map":{"version":3,"names":["CityLocation","TYPES","HousingType","adaptLoginToClient","dto","user","name","avatarUrl","avatarPath","email","isPro","type","token","adaptUserToClient","adaptOfferToClient","offer","id","title","description","city","location","coordinates","previewImage","isPremium","adaptHousingType","bedrooms","roomCount","maxAdults","guestCount","price","goods","amenities","images","photos","isFavorite","rating","host","userId","Apartment","Room","House","Hotel","adaptOffersToClient","offers","map","adaptListOfferToClient","rentCost","premium","favoritesFlag","cityName","preview","housingType","adaptListOffersToClient","adaptCommentToClient","comment","text","date","postDate","adaptCommentsToClient","comments"],"sources":["/Users/vovotata/nodejs/2509207-six-cities-4/frontend/src/utils/adapters/adaptersToClient.ts"],"sourcesContent":["import { CityLocation, TYPES } from '../../const';\nimport CommentDto from '../../dto/comment/comment.dto';\nimport OfferDto, { HousingType } from '../../dto/offer/offer.dto';\nimport UserWithTokenDto from '../../dto/user/user-with-token.dto';\nimport UserDto from '../../dto/user/user.dto';\nimport { Comment, Offer, Type, User } from '../../types/types';\n\nexport type AuthData = {\n    user: User;\n    token: string;\n};\nexport const adaptLoginToClient = (dto: UserWithTokenDto): AuthData => ({\n  user: {\n    name: dto.name,\n    avatarUrl: dto.avatarPath,\n    email: dto.email,\n    isPro: dto.type === 'pro',\n  },\n  token: dto.token,\n});\n\nexport const adaptUserToClient =\n    (user: UserDto): User => ({\n      name: user.name,\n      avatarUrl: user.avatarPath,\n      email: user.email,\n      isPro: user.type === 'pro',\n    });\n\n\nexport const adaptOfferToClient =\n    (offer: OfferDto): Offer => ({\n      id: offer.id,\n      title: offer.title,\n      description: offer.description,\n      city: { name: offer.city, location: offer.coordinates },\n      location: offer.coordinates,\n      previewImage: offer.previewImage,\n      isPremium: offer.isPremium,\n      type: adaptHousingType(offer.type),\n      bedrooms: offer.roomCount,\n      maxAdults: offer.guestCount,\n      price: offer.price,\n      goods: offer.amenities,\n      images: offer.photos,\n      isFavorite: offer.isFavorite,\n      rating: offer.rating,\n      host: adaptUserToClient(offer.userId),\n    });\n\nexport const adaptHousingType = (type: HousingType): Type => {\n  switch (type) {\n    case HousingType.Apartment:\n      return TYPES[0];\n    case HousingType.Room:\n      return TYPES[1];\n    case HousingType.House:\n      return TYPES[2];\n    case HousingType.Hotel:\n      return TYPES[3];\n  }\n};\nexport const adaptOffersToClient = (offers: OfferDto[]): Offer[] =>\n  offers.map(adaptOfferToClient);\n\n\nexport const adaptListOfferToClient = (offer: ListItemOfferDto): ListOffer => ({\n    id: offer.id,\n    price: offer.rentCost,\n    rating: offer.rating,\n    title: offer.name,\n    isPremium: offer.premium,\n    isFavorite: offer.favoritesFlag,\n    city: {\n      name: offer.cityName,\n      location: CityLocation[offer.cityName]\n    },\n    location: CityLocation[offer.cityName],\n    previewImage: offer.preview,\n    type: adaptHousingType(offer.housingType),\n  });\n \n  export const adaptListOffersToClient = (offers: ListItemOfferDto[]): ListOffer[] =>\n    offers.map((offer) => adaptListOfferToClient(offer));\n\nexport const adaptCommentToClient = (comment: CommentDto): Comment => ({\n  id: comment.id,\n  comment: comment.text,\n  date: comment.postDate,\n  rating: comment.rating,\n  user: adaptUserToClient(comment.user),\n});\n\nexport const adaptCommentsToClient = (comments: CommentDto[]): Comment[] =>\n  comments.map(adaptCommentToClient);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}