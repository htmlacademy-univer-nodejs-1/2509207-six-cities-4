{"ast":null,"code":"var _jsxFileName = \"/Users/vovotata/nodejs/2509207-six-cities-4/frontend/src/pages/register/register.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAppDispatch } from '../../hooks';\nimport { registerUser } from '../../store/action';\nimport { getRandomElement } from '../../utils';\nimport { AppRoute, CITIES } from '../../const';\nimport { setCity } from '../../store/site-process/site-process';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Register = () => {\n  _s();\n\n  const dispatch = useAppDispatch();\n  const [avatar, setAvatar] = useState();\n\n  const handleAvatarUpload = evt => {\n    if (!evt.target.files) {\n      return;\n    }\n\n    setAvatar(evt.target.files[0]);\n  };\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    const formData = new FormData(form);\n    const data = Object.fromEntries(formData);\n    dispatch(registerUser(data));\n  };\n\n  const handleLinkClick = e => {\n    const cityName = e.currentTarget.textContent;\n    dispatch(setCity(cityName));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"page__main page__main--login\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page__login-container container\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"login\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"login__title\",\n          children: \"Sign up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"login__form form register-form\",\n          action: \"#\",\n          method: \"post\",\n          onSubmit: handleFormSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login__input-wrapper form__input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"visually-hidden\",\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"login__input form__input\",\n              type: \"text\",\n              name: \"name\",\n              placeholder: \"Name\",\n              required: true,\n              minLength: 1,\n              maxLength: 15\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login__input-wrapper form__input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"visually-hidden\",\n              children: \"E-mail\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"login__input form__input\",\n              type: \"email\",\n              name: \"email\",\n              placeholder: \"Email\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login__input-wrapper form__input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"visually-hidden\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"login__input form__input\",\n              type: \"password\",\n              name: \"password\",\n              placeholder: \"Password\",\n              required: true,\n              minLength: 6,\n              maxLength: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login__input-wrapper form__input-wrapper register-form__avatar-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"visually-hidden\",\n              type: \"file\",\n              name: \"avatar\",\n              id: \"avatar\",\n              accept: \"image/png, image/jpeg\",\n              onChange: handleAvatarUpload\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"avatar\",\n              className: \"register-form__avatar-label\",\n              children: avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: URL.createObjectURL(avatar),\n                alt: \"Avatar preview\",\n                className: \"register-form__avatar-preview\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 19\n              }, this) : 'Upload avatar'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"register-form__is-pro-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              name: \"isPro\",\n              id: \"isPro\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"isPro\",\n              className: \"register-form__is-pro-label\",\n              children: \"Create pro account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"login__submit form__submit button\",\n            type: \"submit\",\n            children: \"Sign up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"locations locations--login locations--current\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"locations__item\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            className: \"locations__item-link\",\n            onClick: handleLinkClick,\n            to: AppRoute.Root,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: getRandomElement(CITIES)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"m9muuVfIZQstfx3v0dstwbSzAPY=\", false, function () {\n  return [useAppDispatch];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useState","Link","useAppDispatch","registerUser","getRandomElement","AppRoute","CITIES","setCity","Register","dispatch","avatar","setAvatar","handleAvatarUpload","evt","target","files","handleFormSubmit","e","preventDefault","form","currentTarget","formData","FormData","data","Object","fromEntries","handleLinkClick","cityName","textContent","URL","createObjectURL","Root"],"sources":["/Users/vovotata/nodejs/2509207-six-cities-4/frontend/src/pages/register/register.tsx"],"sourcesContent":["import type { FormEvent, MouseEvent, ChangeEvent } from 'react';\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport type { CityName, UserRegister } from '../../types/types';\nimport { useAppDispatch } from '../../hooks';\nimport { registerUser } from '../../store/action';\nimport { getRandomElement } from '../../utils';\nimport { AppRoute, CITIES } from '../../const';\nimport { setCity } from '../../store/site-process/site-process';\n\nconst Register = (): JSX.Element => {\n  const dispatch = useAppDispatch();\n  const [avatar, setAvatar] = useState<File | undefined>();\n\n  const handleAvatarUpload = (evt: ChangeEvent<HTMLInputElement>) => {\n    if (!evt.target.files) {\n      return;\n    }\n    setAvatar(evt.target.files[0]);\n  };\n\n  const handleFormSubmit = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    const form = e.currentTarget;\n\n    const formData = new FormData(form) as Iterable<[UserRegister]>;\n    const data = Object.fromEntries(formData);\n\n    dispatch(registerUser(data));\n  };\n\n  const handleLinkClick = (e: MouseEvent<HTMLAnchorElement>) => {\n    const cityName = e.currentTarget.textContent as CityName;\n    dispatch(setCity(cityName));\n  };\n\n  return (\n    <main className=\"page__main page__main--login\">\n      <div className=\"page__login-container container\">\n        <section className=\"login\">\n          <h1 className=\"login__title\">Sign up</h1>\n          <form className=\"login__form form register-form\" action=\"#\" method=\"post\" onSubmit={handleFormSubmit}>\n            <div className=\"login__input-wrapper form__input-wrapper\">\n              <label className=\"visually-hidden\">Name</label>\n              <input\n                className=\"login__input form__input\"\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"Name\"\n                required\n                minLength={1}\n                maxLength={15}\n              />\n            </div>\n            <div className=\"login__input-wrapper form__input-wrapper\">\n              <label className=\"visually-hidden\">E-mail</label>\n              <input\n                className=\"login__input form__input\"\n                type=\"email\"\n                name=\"email\"\n                placeholder=\"Email\"\n                required\n              />\n            </div>\n            <div className=\"login__input-wrapper form__input-wrapper\">\n              <label className=\"visually-hidden\">Password</label>\n              <input\n                className=\"login__input form__input\"\n                type=\"password\"\n                name=\"password\"\n                placeholder=\"Password\"\n                required\n                minLength={6}\n                maxLength={12}\n              />\n            </div>\n            <div\n              className=\"login__input-wrapper form__input-wrapper register-form__avatar-wrapper\"\n            >\n              <input\n                className=\"visually-hidden\"\n                type=\"file\"\n                name=\"avatar\"\n                id=\"avatar\"\n                accept=\"image/png, image/jpeg\"\n                onChange={handleAvatarUpload}\n              />\n              <label htmlFor=\"avatar\" className=\"register-form__avatar-label\">\n                {avatar ? (\n                  <img\n                    src={URL.createObjectURL(avatar)}\n                    alt=\"Avatar preview\"\n                    className=\"register-form__avatar-preview\"\n                  />\n                ) : (\n                  'Upload avatar'\n                )}\n              </label>\n            </div>\n            <div className=\"register-form__is-pro-wrapper\">\n              <input\n                type=\"checkbox\"\n                name=\"isPro\"\n                id=\"isPro\"\n              />\n              <label htmlFor=\"isPro\" className=\"register-form__is-pro-label\">\n          Create pro account\n              </label>\n            </div>\n            <button\n              className=\"login__submit form__submit button\"\n              type=\"submit\"\n            >\n                Sign up\n            </button>\n          </form>\n        </section>\n        <section className=\"locations locations--login locations--current\">\n          <div className=\"locations__item\">\n            <Link className=\"locations__item-link\" onClick={handleLinkClick} to={AppRoute.Root}>\n              <span>{getRandomElement<CityName>(CITIES)}</span>\n            </Link>\n          </div>\n        </section>\n      </div>\n    </main>\n  );\n};\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}