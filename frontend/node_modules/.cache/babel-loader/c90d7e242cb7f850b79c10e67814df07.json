{"ast":null,"code":"import { UserType } from '../../dto/user/user.dto';\nexport const adaptSignupToServer = user => ({\n  name: user.name,\n  email: user.email,\n  avatarPath: ' ',\n  password: user.password,\n  type: user.isPro ? UserType.pro : UserType.обычный\n});\nexport const adaptCreateOfferToServer = offer => ({\n  title: offer.title,\n  description: offer.description,\n  publicationDate: new Date(),\n  city: offer.city.name,\n  previewImage: offer.previewImage,\n  photos: ['', '', '', '', '', ''],\n  isFavorite: false,\n  isPremium: offer.isPremium,\n  rating: 5.0,\n  type: offer.type,\n  roomCount: offer.bedrooms,\n  guestCount: offer.maxAdults,\n  price: offer.price,\n  amenities: offer.goods.map(g => g),\n  coordinates: offer.city.location\n});\nexport const adaptEditOfferToServer = offer => ({\n  title: offer.title,\n  description: offer.description,\n  city: offer.city.name,\n  previewImage: offer.previewImage,\n  isFavorite: offer.isFavorite,\n  isPremium: offer.isPremium,\n  type: offer.type,\n  roomCount: offer.bedrooms,\n  guestCount: offer.maxAdults,\n  price: offer.price,\n  amenities: offer.goods.map(g => g),\n  coordinates: offer.location // если UpdateOfferDto помечает поля optional, можно присылать только изменённые\n\n});\nexport const adaptCreateCommentToServer = comment => ({\n  text: comment.comment,\n  rating: comment.rating,\n  offerId: comment.id\n});\nexport const adaptAvatarToServer = file => {\n  const formData = new FormData();\n  formData.append('avatar', file);\n  return formData;\n};\nexport const adaptImageToServer = file => {\n  const formData = new FormData();\n  formData.append('image', file);\n  return formData;\n};","map":{"version":3,"names":["UserType","adaptSignupToServer","user","name","email","avatarPath","password","type","isPro","pro","обычный","adaptCreateOfferToServer","offer","title","description","publicationDate","Date","city","previewImage","photos","isFavorite","isPremium","rating","roomCount","bedrooms","guestCount","maxAdults","price","amenities","goods","map","g","coordinates","location","adaptEditOfferToServer","adaptCreateCommentToServer","comment","text","offerId","id","adaptAvatarToServer","file","formData","FormData","append","adaptImageToServer"],"sources":["/Users/vovotata/nodejs/2509207-six-cities-4/frontend/src/utils/adapters/adaptersToServer.ts"],"sourcesContent":["import CreateUserDto from '../../dto/user/create-user.dto';\nimport UpdateOfferDto from '../../dto/offer/update-offer.dto';\nimport CreateOfferDto from '../../dto/offer/create-offer.dto';\nimport CreateCommentDto from '../../dto/comment/create-comment.dto';\nimport { UserRegister, NewOffer, CommentAuth, Offer } from '../../types/types';\nimport { UserType } from '../../dto/user/user.dto';\nimport { City as CityEnum, HousingType, Amenity } from '../../dto/offer/offer.dto';\n\n\nexport const adaptSignupToServer = (user: UserRegister): CreateUserDto => ({\n  name: user.name,\n  email: user.email,\n  avatarPath: ' ',\n  password: user.password,\n  type: user.isPro ? UserType.pro : UserType.обычный,\n});\n\nexport const adaptCreateOfferToServer = (offer: NewOffer): CreateOfferDto => ({\n  title: offer.title,\n  description: offer.description,\n  publicationDate: new Date(),\n  city: offer.city.name as CityEnum,\n  previewImage: offer.previewImage,\n  photos: ['','', '', '', '', ''],\n  isFavorite: false,\n  isPremium: offer.isPremium,\n  rating: 5.0,\n  type: offer.type as HousingType,\n  roomCount: offer.bedrooms,\n  guestCount: offer.maxAdults,\n  price: offer.price,\n  amenities: offer.goods.map((g) => g as Amenity),\n  coordinates: offer.city.location\n});\n\nexport const adaptEditOfferToServer = (offer: Offer): UpdateOfferDto => ({\n  title: offer.title,\n  description: offer.description,\n  city: offer.city.name as CityEnum,\n  previewImage: offer.previewImage,\n  isFavorite: offer.isFavorite,\n  isPremium: offer.isPremium,\n  type: offer.type as HousingType,\n  roomCount: offer.bedrooms,\n  guestCount: offer.maxAdults,\n  price: offer.price,\n  amenities: offer.goods.map((g) => g as Amenity),\n  coordinates: offer.location,\n  // если UpdateOfferDto помечает поля optional, можно присылать только изменённые\n});\n\nexport const adaptCreateCommentToServer = (comment: CommentAuth): CreateCommentDto => ({\n  text: comment.comment,\n  rating: comment.rating,\n  offerId: comment.id,\n});\n\nexport const adaptAvatarToServer = (file: File): FormData => {\n  const formData = new FormData();\n  formData.append('avatar', file);\n  return formData;\n};\n\nexport const adaptImageToServer = (file: File): FormData => {\n  const formData = new FormData();\n  formData.append('image', file);\n  return formData;\n};\n"],"mappings":"AAKA,SAASA,QAAT,QAAyB,yBAAzB;AAIA,OAAO,MAAMC,mBAAmB,GAAIC,IAAD,KAAwC;EACzEC,IAAI,EAAED,IAAI,CAACC,IAD8D;EAEzEC,KAAK,EAAEF,IAAI,CAACE,KAF6D;EAGzEC,UAAU,EAAE,GAH6D;EAIzEC,QAAQ,EAAEJ,IAAI,CAACI,QAJ0D;EAKzEC,IAAI,EAAEL,IAAI,CAACM,KAAL,GAAaR,QAAQ,CAACS,GAAtB,GAA4BT,QAAQ,CAACU;AAL8B,CAAxC,CAA5B;AAQP,OAAO,MAAMC,wBAAwB,GAAIC,KAAD,KAAsC;EAC5EC,KAAK,EAAED,KAAK,CAACC,KAD+D;EAE5EC,WAAW,EAAEF,KAAK,CAACE,WAFyD;EAG5EC,eAAe,EAAE,IAAIC,IAAJ,EAH2D;EAI5EC,IAAI,EAAEL,KAAK,CAACK,IAAN,CAAWd,IAJ2D;EAK5Ee,YAAY,EAAEN,KAAK,CAACM,YALwD;EAM5EC,MAAM,EAAE,CAAC,EAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CANoE;EAO5EC,UAAU,EAAE,KAPgE;EAQ5EC,SAAS,EAAET,KAAK,CAACS,SAR2D;EAS5EC,MAAM,EAAE,GAToE;EAU5Ef,IAAI,EAAEK,KAAK,CAACL,IAVgE;EAW5EgB,SAAS,EAAEX,KAAK,CAACY,QAX2D;EAY5EC,UAAU,EAAEb,KAAK,CAACc,SAZ0D;EAa5EC,KAAK,EAAEf,KAAK,CAACe,KAb+D;EAc5EC,SAAS,EAAEhB,KAAK,CAACiB,KAAN,CAAYC,GAAZ,CAAiBC,CAAD,IAAOA,CAAvB,CAdiE;EAe5EC,WAAW,EAAEpB,KAAK,CAACK,IAAN,CAAWgB;AAfoD,CAAtC,CAAjC;AAkBP,OAAO,MAAMC,sBAAsB,GAAItB,KAAD,KAAmC;EACvEC,KAAK,EAAED,KAAK,CAACC,KAD0D;EAEvEC,WAAW,EAAEF,KAAK,CAACE,WAFoD;EAGvEG,IAAI,EAAEL,KAAK,CAACK,IAAN,CAAWd,IAHsD;EAIvEe,YAAY,EAAEN,KAAK,CAACM,YAJmD;EAKvEE,UAAU,EAAER,KAAK,CAACQ,UALqD;EAMvEC,SAAS,EAAET,KAAK,CAACS,SANsD;EAOvEd,IAAI,EAAEK,KAAK,CAACL,IAP2D;EAQvEgB,SAAS,EAAEX,KAAK,CAACY,QARsD;EASvEC,UAAU,EAAEb,KAAK,CAACc,SATqD;EAUvEC,KAAK,EAAEf,KAAK,CAACe,KAV0D;EAWvEC,SAAS,EAAEhB,KAAK,CAACiB,KAAN,CAAYC,GAAZ,CAAiBC,CAAD,IAAOA,CAAvB,CAX4D;EAYvEC,WAAW,EAAEpB,KAAK,CAACqB,QAZoD,CAavE;;AAbuE,CAAnC,CAA/B;AAgBP,OAAO,MAAME,0BAA0B,GAAIC,OAAD,KAA6C;EACrFC,IAAI,EAAED,OAAO,CAACA,OADuE;EAErFd,MAAM,EAAEc,OAAO,CAACd,MAFqE;EAGrFgB,OAAO,EAAEF,OAAO,CAACG;AAHoE,CAA7C,CAAnC;AAMP,OAAO,MAAMC,mBAAmB,GAAIC,IAAD,IAA0B;EAC3D,MAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;EACAD,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0BH,IAA1B;EACA,OAAOC,QAAP;AACD,CAJM;AAMP,OAAO,MAAMG,kBAAkB,GAAIJ,IAAD,IAA0B;EAC1D,MAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;EACAD,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBH,IAAzB;EACA,OAAOC,QAAP;AACD,CAJM"},"metadata":{},"sourceType":"module"}