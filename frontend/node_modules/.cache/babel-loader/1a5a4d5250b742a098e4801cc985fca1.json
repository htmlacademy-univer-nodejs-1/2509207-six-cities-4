{"ast":null,"code":"import { UserType } from '../../dto/user/user.dto';\nexport const adaptSignupToServer = user => ({\n  name: user.name,\n  email: user.email,\n  password: user.password,\n  type: user.isPro ? UserType.pro : UserType.обычный\n});\nexport const adaptCreateOfferToServer = offer => ({\n  title: offer.title,\n  description: offer.description,\n  publicationDate: new Date(),\n  city: offer.city.name,\n  previewImage: offer.previewImage,\n  photos: ['', '', '', '', '', ''],\n  isFavourite: false,\n  isPremium: offer.isPremium,\n  rating: 5.0,\n  type: offer.type,\n  roomCount: offer.bedrooms,\n  guestCount: offer.maxAdults,\n  price: offer.price,\n  amenities: offer.goods.map(g => g)\n});\nexport const adaptEditOfferToServer = offer => ({\n  title: offer.title,\n  description: offer.description,\n  city: offer.city.name,\n  previewImage: offer.previewImage,\n  isPremium: offer.isPremium,\n  type: offer.type,\n  roomCount: offer.bedrooms,\n  guestCount: offer.maxAdults,\n  price: offer.price,\n  amenities: offer.goods.map(g => g),\n  coordinates: offer.location // если UpdateOfferDto помечает поля optional, можно присылать только изменённые\n\n});\nexport const adaptCreateCommentToServer = comment => ({\n  text: comment.comment,\n  rating: comment.rating,\n  offerId: comment.id\n});\nexport const adaptAvatarToServer = file => {\n  const formData = new FormData();\n  formData.append('avatar', file);\n  return formData;\n};\nexport const adaptImageToServer = file => {\n  const formData = new FormData();\n  formData.append('image', file);\n  return formData;\n};","map":{"version":3,"names":["UserType","adaptSignupToServer","user","name","email","password","type","isPro","pro","обычный","adaptCreateOfferToServer","offer","title","description","publicationDate","Date","city","previewImage","photos","isFavourite","isPremium","rating","roomCount","bedrooms","guestCount","maxAdults","price","amenities","goods","map","g","adaptEditOfferToServer","coordinates","location","adaptCreateCommentToServer","comment","text","offerId","id","adaptAvatarToServer","file","formData","FormData","append","adaptImageToServer"],"sources":["/Users/vovotata/nodejs/2509207-six-cities-4/frontend/src/utils/adapters/adaptersToServer.ts"],"sourcesContent":["import CreateUserDto from '../../dto/user/create-user.dto';\nimport UpdateOfferDto from '../../dto/offer/update-offer.dto';\nimport CreateOfferDto from '../../dto/offer/create-offer.dto';\nimport CreateCommentDto from '../../dto/comment/create-comment.dto';\nimport { UserRegister, NewOffer, CommentAuth, Offer } from '../../types/types';\nimport { UserType } from '../../dto/user/user.dto';\nimport { City as CityEnum, HousingType, Amenity } from '../../dto/offer/offer.dto';\n\n\nexport const adaptSignupToServer = (user: UserRegister): CreateUserDto => ({\n  name: user.name,\n  email: user.email,\n  password: user.password,\n  type: user.isPro ? UserType.pro : UserType.обычный,\n});\n\nexport const adaptCreateOfferToServer = (offer: NewOffer): CreateOfferDto => ({\n  title: offer.title,\n  description: offer.description,\n  publicationDate: new Date(),\n  city: offer.city.name as CityEnum,\n  previewImage: offer.previewImage,\n  photos: ['','', '', '', '', ''],\n  isFavourite: false,\n  isPremium: offer.isPremium,\n  rating: 5.0,\n  type: offer.type as HousingType,\n  roomCount: offer.bedrooms,\n  guestCount: offer.maxAdults,\n  price: offer.price,\n  amenities: offer.goods.map((g) => g as Amenity)\n});\n\nexport const adaptEditOfferToServer = (offer: Offer): UpdateOfferDto => ({\n  title: offer.title,\n  description: offer.description,\n  city: offer.city.name as CityEnum,\n  previewImage: offer.previewImage,\n  isPremium: offer.isPremium,\n  type: offer.type as HousingType,\n  roomCount: offer.bedrooms,\n  guestCount: offer.maxAdults,\n  price: offer.price,\n  amenities: offer.goods.map((g) => g as Amenity),\n  coordinates: offer.location,\n  // если UpdateOfferDto помечает поля optional, можно присылать только изменённые\n});\n\nexport const adaptCreateCommentToServer = (comment: CommentAuth): CreateCommentDto => ({\n  text: comment.comment,\n  rating: comment.rating,\n  offerId: comment.id,\n});\n\nexport const adaptAvatarToServer = (file: File): FormData => {\n  const formData = new FormData();\n  formData.append('avatar', file);\n  return formData;\n};\n\nexport const adaptImageToServer = (file: File): FormData => {\n  const formData = new FormData();\n  formData.append('image', file);\n  return formData;\n};\n"],"mappings":"AAKA,SAASA,QAAT,QAAyB,yBAAzB;AAIA,OAAO,MAAMC,mBAAmB,GAAIC,IAAD,KAAwC;EACzEC,IAAI,EAAED,IAAI,CAACC,IAD8D;EAEzEC,KAAK,EAAEF,IAAI,CAACE,KAF6D;EAGzEC,QAAQ,EAAEH,IAAI,CAACG,QAH0D;EAIzEC,IAAI,EAAEJ,IAAI,CAACK,KAAL,GAAaP,QAAQ,CAACQ,GAAtB,GAA4BR,QAAQ,CAACS;AAJ8B,CAAxC,CAA5B;AAOP,OAAO,MAAMC,wBAAwB,GAAIC,KAAD,KAAsC;EAC5EC,KAAK,EAAED,KAAK,CAACC,KAD+D;EAE5EC,WAAW,EAAEF,KAAK,CAACE,WAFyD;EAG5EC,eAAe,EAAE,IAAIC,IAAJ,EAH2D;EAI5EC,IAAI,EAAEL,KAAK,CAACK,IAAN,CAAWb,IAJ2D;EAK5Ec,YAAY,EAAEN,KAAK,CAACM,YALwD;EAM5EC,MAAM,EAAE,CAAC,EAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CANoE;EAO5EC,WAAW,EAAE,KAP+D;EAQ5EC,SAAS,EAAET,KAAK,CAACS,SAR2D;EAS5EC,MAAM,EAAE,GAToE;EAU5Ef,IAAI,EAAEK,KAAK,CAACL,IAVgE;EAW5EgB,SAAS,EAAEX,KAAK,CAACY,QAX2D;EAY5EC,UAAU,EAAEb,KAAK,CAACc,SAZ0D;EAa5EC,KAAK,EAAEf,KAAK,CAACe,KAb+D;EAc5EC,SAAS,EAAEhB,KAAK,CAACiB,KAAN,CAAYC,GAAZ,CAAiBC,CAAD,IAAOA,CAAvB;AAdiE,CAAtC,CAAjC;AAiBP,OAAO,MAAMC,sBAAsB,GAAIpB,KAAD,KAAmC;EACvEC,KAAK,EAAED,KAAK,CAACC,KAD0D;EAEvEC,WAAW,EAAEF,KAAK,CAACE,WAFoD;EAGvEG,IAAI,EAAEL,KAAK,CAACK,IAAN,CAAWb,IAHsD;EAIvEc,YAAY,EAAEN,KAAK,CAACM,YAJmD;EAKvEG,SAAS,EAAET,KAAK,CAACS,SALsD;EAMvEd,IAAI,EAAEK,KAAK,CAACL,IAN2D;EAOvEgB,SAAS,EAAEX,KAAK,CAACY,QAPsD;EAQvEC,UAAU,EAAEb,KAAK,CAACc,SARqD;EASvEC,KAAK,EAAEf,KAAK,CAACe,KAT0D;EAUvEC,SAAS,EAAEhB,KAAK,CAACiB,KAAN,CAAYC,GAAZ,CAAiBC,CAAD,IAAOA,CAAvB,CAV4D;EAWvEE,WAAW,EAAErB,KAAK,CAACsB,QAXoD,CAYvE;;AAZuE,CAAnC,CAA/B;AAeP,OAAO,MAAMC,0BAA0B,GAAIC,OAAD,KAA6C;EACrFC,IAAI,EAAED,OAAO,CAACA,OADuE;EAErFd,MAAM,EAAEc,OAAO,CAACd,MAFqE;EAGrFgB,OAAO,EAAEF,OAAO,CAACG;AAHoE,CAA7C,CAAnC;AAMP,OAAO,MAAMC,mBAAmB,GAAIC,IAAD,IAA0B;EAC3D,MAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;EACAD,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0BH,IAA1B;EACA,OAAOC,QAAP;AACD,CAJM;AAMP,OAAO,MAAMG,kBAAkB,GAAIJ,IAAD,IAA0B;EAC1D,MAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;EACAD,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBH,IAAzB;EACA,OAAOC,QAAP;AACD,CAJM"},"metadata":{},"sourceType":"module"}